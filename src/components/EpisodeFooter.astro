---
import styles from "@components/FooterLink.module.css";
import characters from "@components/characters.module.css";
import MainFooter from "@components/MainFooter.astro";
export interface Score {
  character: "Mark" | "Bob" | "Wade";
  score: number;
}
export interface Props {
  scores: Score[];
}
const { scores = [] } = Astro.props as Props;
const [first, second, third] = scores.sort((a, b) => a.score < b.score);
const getStyle = ({ character }) => characters[character.toLowerCase()];
---

<div class="end-results">
  <div>
    Winner: <span class={getStyle(first)}>{first.character}</span>
    <br /> With <span class={getStyle(first)}>{first.score}</span> points!
  </div>
  <div>
    <span class={getStyle(second)}>{second.character}</span> comes in second with
    <span class={getStyle(second)}>{second.score}</span>
  </div>
  {third && <div>
      (Also <span class={getStyle(third)}>{third.character}</span> got <span class={getStyle(third)}>
        {third.score}
      </span> points??)
    </div>}
</div>
<MainFooter>
  <li>
    <a class={styles.FooterLink} href="#edit-on-github">Edit on Github</a>
  </li>
</MainFooter>

<style>
  .end-results {
    width: 100%;
    padding: 2rem;
    background-color: var(--color-black);
    color: var(--color-white);
    font-size: var(--font-size-5);
    text-align: center;
    text-transform: uppercase;
    font-weight: 700;
    line-height: var(--line-height-5);
  }
  .end-results > * + * {
    font-size: var(--font-size-3);
  }
</style>
